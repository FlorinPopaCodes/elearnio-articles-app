<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
  <div>
    <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
    <input id="title" formControlName="title" type="text"
           class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
           [class.border-red-500]="hasError('title')">
    @if (hasError('title')) {
      <p class="mt-1 text-sm text-red-600">{{ getError('title') }}</p>
    }
  </div>

  <div>
    <label for="body" class="block text-sm font-medium text-gray-700">Body</label>
    <textarea id="body" formControlName="body" rows="6"
              class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
              [class.border-red-500]="hasError('body')"></textarea>
    @if (hasError('body')) {
      <p class="mt-1 text-sm text-red-600">{{ getError('body') }}</p>
    }
  </div>

  <div>
    <label for="author_name" class="block text-sm font-medium text-gray-700">Author name</label>
    <input id="author_name" formControlName="author_name" type="text"
           class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
           [class.border-red-500]="hasError('author_name')">
    @if (hasError('author_name')) {
      <p class="mt-1 text-sm text-red-600">{{ getError('author_name') }}</p>
    }
  </div>

  <button type="submit"
          [disabled]="submitting()"
          class="inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 disabled:opacity-50">
    @if (submitting()) {
      Publishing...
    } @else {
      Publish article
    }
  </button>
</form>
