<form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-3">
  <div>
    <label for="comment-body" class="block text-sm font-medium text-gray-700">Comment</label>
    <textarea id="comment-body" formControlName="body" rows="3"
              class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm"
              [class.border-red-500]="hasError('body')"></textarea>
    @if (hasError('body')) {
      <p class="mt-1 text-sm text-red-600">{{ getError('body') }}</p>
    }
  </div>

  <div>
    <label for="comment-author" class="block text-sm font-medium text-gray-700">Your name</label>
    <input id="comment-author" formControlName="author_name" type="text"
           class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm"
           [class.border-red-500]="hasError('author_name')">
    @if (hasError('author_name')) {
      <p class="mt-1 text-sm text-red-600">{{ getError('author_name') }}</p>
    }
  </div>

  <button type="submit"
          [disabled]="submitting()"
          class="inline-flex items-center rounded-md bg-teal-600 px-3 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-teal-500 disabled:opacity-50">
    @if (submitting()) {
      Adding...
    } @else {
      Add comment
    }
  </button>
</form>
