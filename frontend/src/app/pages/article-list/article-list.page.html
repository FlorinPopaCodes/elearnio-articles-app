<div class="mx-auto max-w-3xl">
  <div class="mb-6 flex items-center justify-between">
    <h1 class="text-2xl font-bold text-gray-900">Articles</h1>
    <button (click)="toggleForm()"
            class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500">
      @if (showForm()) {
        Cancel
      } @else {
        New article
      }
    </button>
  </div>

  @if (showForm()) {
    <div class="mb-6 rounded-lg border border-gray-200 bg-white p-6">
      <h2 class="mb-4 text-lg font-semibold text-gray-900">New article</h2>
      <app-article-form
        [serverErrors]="serverErrors()"
        [submitting]="submitting()"
        (submitted)="onArticleSubmit($event)" />
    </div>
  }

  <div class="space-y-3">
    @for (article of articles(); track article.id) {
      <app-article-card [article]="article" />
    } @empty {
      <p class="text-center text-gray-500 italic">No articles yet. Be the first to publish one!</p>
    }
  </div>
</div>
